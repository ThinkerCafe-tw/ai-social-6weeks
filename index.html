<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light">
    <title>AI 自媒體系統建立課程 - 六週陪跑計畫</title>
    
    <!-- React & Babel -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Times New Roman', 'Noto Serif TC', serif;
            line-height: 1.8;
            color: #000 !important;
            background: #fff !important;
            max-width: 210mm;
            margin: 0 auto;
            padding: 20mm;
        }

        /* 強制淺色模式 - 修正對比度問題 */
        @media (prefers-color-scheme: dark) {
            body {
                color: #000 !important;
                background: #fff !important;
            }
            
            /* 移除有問題的全域繼承，改為具體指定 */
            
            /* 互動組件明確色彩定義 */
            .course-progress {
                background: #f9f9f9 !important;
                color: #333 !important;
            }
            
            .week1-interactive {
                background: #fff !important;
                color: #333 !important;
            }
            
            .interactive-header {
                background: #333 !important;
                color: #fff !important;
            }
            
            .interactive-header h2,
            .interactive-header * {
                color: #fff !important;
            }
            
            .interactive-content {
                background: #fff !important;
                color: #333 !important;
            }
            
            .step-content,
            .step-content p,
            .step-content h3,
            .step-content h4 {
                color: #333 !important;
            }
            
            .guiding-questions {
                background: #f9f9f9 !important;
                color: #333 !important;
            }
            
            .guiding-questions h4,
            .guiding-questions li {
                color: #666 !important;
            }
            
            .form-group {
                background: transparent !important;
            }
            
            .form-group label {
                color: #333 !important;
            }
            
            .form-group input,
            .form-group select,
            .form-group textarea {
                background: #fff !important;
                color: #333 !important;
                border: 2px solid #ddd !important;
            }
            
            .form-group input:focus,
            .form-group select:focus,
            .form-group textarea:focus {
                border-color: #333 !important;
            }
            
            .demo-box {
                color: inherit !important;
            }
            
            .demo-box.error {
                background: #f8d7da !important;
                color: #721c24 !important;
            }
            
            .demo-box.success {
                background: #d4edda !important;
                color: #155724 !important;
            }
            
            .key-points {
                background: #f9f9f9 !important;
                color: #333 !important;
            }
            
            .key-points h4,
            .key-points li {
                color: #555 !important;
            }
            
            .profile-summary {
                background: #f9f9f9 !important;
                color: #333 !important;
            }
            
            .summary-item {
                background: #fff !important;
                color: #333 !important;
            }
            
            .summary-item strong {
                color: #333 !important;
            }
            
            .prompt-output {
                background: #f8f9fa !important;
                color: #333 !important;
                border: 2px solid #333 !important;
            }
            
            .prompt-output pre {
                color: #333 !important;
            }
            
            .usage-instruction {
                background: #e9ecef !important;
                color: #333 !important;
            }
            
            .usage-instruction h4,
            .usage-instruction li {
                color: #555 !important;
            }
            
            .highlight-box {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
                color: #fff !important;
            }
            
            .step-btn {
                background: rgba(255, 255, 255, 0.1) !important;
                color: #fff !important;
                border: 1px solid rgba(255, 255, 255, 0.3) !important;
            }
            
            .step-btn:hover {
                background: rgba(255, 255, 255, 0.2) !important;
                color: #fff !important;
            }
            
            .step-btn.active {
                background: #fff !important;
                color: #333 !important;
            }
            
            .step-btn.completed {
                background: #28a745 !important;
                color: #fff !important;
                border-color: #28a745 !important;
            }
            
            /* 按鈕明確色彩定義 */
            .next-btn, .complete-btn, .generate-btn, .copy-btn {
                color: #fff !important;
            }
            
            .copy-preview {
                background: #fff !important;
                color: #333 !important;
                border: 1px solid #ddd !important;
            }
            
            .copy-preview pre {
                color: #333 !important;
            }
            
            /* 警告訊息 */
            .warning {
                background: #fff3cd !important;
                color: #856404 !important;
            }
            
            /* 修復週次標題顏色 */
            .week-header {
                background: #333 !important;
                color: #fff !important;
            }
            
            .week-header h2 {
                color: #fff !important;
            }
            
            .week-section.active .week-header {
                background: #555 !important;
            }
            
            /* 週次內容區域 */
            .week-content {
                background: #fff !important;
                color: #333 !important;
            }
            
            .week-goal,
            .learn-list,
            .complete-list {
                color: #333 !important;
            }
            
            .week-goal h3,
            .learn-list h3,
            .complete-list h3 {
                color: #333 !important;
            }
            
            .expand-indicator {
                color: #fff !important;
            }
        }

        /* 標題區 */
        header {
            text-align: center;
            border-bottom: 3px solid #333;
            padding-bottom: 20px;
            margin-bottom: 30px;
        }

        h1 {
            font-size: 24pt;
            font-weight: bold;
            margin-bottom: 10px;
            color: #000;
        }

        .subtitle {
            font-size: 14pt;
            color: #666;
            margin-bottom: 5px;
        }

        .meta {
            font-size: 11pt;
            color: #999;
            margin-top: 10px;
        }

        /* 課程資訊 */
        .course-info {
            margin: 30px 0;
            border: 1px solid #ccc;
            border-radius: 8px;
            overflow: hidden;
        }

        .course-info table {
            width: 100%;
            border-collapse: collapse;
        }

        .course-info th {
            background: #f5f5f5;
            padding: 12px;
            text-align: left;
            font-weight: bold;
            width: 25%;
            border-bottom: 1px solid #ccc;
        }

        .course-info td {
            padding: 12px;
            border-bottom: 1px solid #eee;
        }

        .course-info tr:last-child td,
        .course-info tr:last-child th {
            border-bottom: none;
        }

        /* 週間陪伴區塊 */
        .companion-box {
            margin: 30px 0;
            padding: 25px;
            background: #f9f9f9;
            border-left: 4px solid #333;
            border-radius: 8px;
        }

        .companion-box h3 {
            font-size: 13pt;
            margin-bottom: 15px;
            color: #333;
        }

        .companion-box ul {
            list-style: none;
            padding-left: 0;
        }

        .companion-box li {
            padding: 6px 0;
            padding-left: 25px;
            position: relative;
            color: #555;
        }

        .companion-box li:before {
            content: "→";
            position: absolute;
            left: 5px;
            color: #333;
            font-weight: bold;
        }

        /* 週次卡片 */
        .week-section {
            margin: 40px 0;
            border: 2px solid #333;
            border-radius: 12px;
            overflow: hidden;
            page-break-inside: avoid;
        }

        .week-header {
            background: #333;
            color: #fff !important;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .week-header h2 {
            font-size: 16pt;
            margin: 0;
            color: #fff !important;
        }

        .week-icon {
            width: 28px;
            height: 28px;
            flex-shrink: 0;
        }

        .week-icon svg {
            width: 100%;
            height: 100%;
            fill: #fff;
        }

        .week-content {
            padding: 20px;
        }

        .week-goal {
            background: #f9f9f9;
            border-left: 4px solid #666;
            padding: 15px;
            margin-bottom: 20px;
        }

        .week-goal h3 {
            font-size: 12pt;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .learn-list, .complete-list {
            margin: 20px 0;
        }

        .learn-list h3, .complete-list h3 {
            font-size: 12pt;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .learn-list ul, .complete-list ul {
            list-style: none;
            padding-left: 0;
        }

        .learn-list li, .complete-list li {
            padding: 8px 0;
            padding-left: 30px;
            position: relative;
        }

        .learn-list li:before {
            content: "▸";
            position: absolute;
            left: 10px;
            color: #666;
        }

        .complete-list li:before {
            content: "✓";
            position: absolute;
            left: 10px;
            color: #28a745;
            font-weight: bold;
        }

        /* 最終成果區塊 */
        .outcomes {
            margin: 40px 0;
            padding: 30px;
            background: #f9f9f9;
            border-radius: 12px;
            border: 2px solid #333;
        }

        .outcomes h2 {
            font-size: 16pt;
            margin-bottom: 20px;
            text-align: center;
        }

        .outcome-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .outcome-item {
            padding: 15px;
            background: #fff;
            border-radius: 8px;
            border: 1px solid #ddd;
            display: flex;
            gap: 12px;
            align-items: start;
        }

        .outcome-icon {
            width: 24px;
            height: 24px;
            color: #28a745;
            stroke: #28a745;
            flex-shrink: 0;
        }

        .outcome-icon svg {
            width: 100%;
            height: 100%;
        }

        .outcome-text {
            flex: 1;
        }

        .outcome-text strong {
            display: block;
            margin-bottom: 5px;
        }

        /* 包含內容 */
        .includes {
            margin: 40px 0;
            padding: 30px;
            border: 2px solid #333;
            border-radius: 12px;
        }

        .includes h2 {
            font-size: 16pt;
            margin-bottom: 20px;
            text-align: center;
        }

        .includes-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .include-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
        }

        .include-icon {
            width: 20px;
            height: 20px;
            color: #333;
            stroke: #333;
            flex-shrink: 0;
        }

        .include-icon svg {
            width: 100%;
            height: 100%;
        }

        /* 下一步 */
        .next-steps {
            margin: 40px 0;
            padding: 30px;
            background: #fff;
            border: 2px solid #333;
            border-radius: 12px;
        }

        .next-steps h2 {
            font-size: 16pt;
            margin-bottom: 20px;
        }

        .next-steps ol {
            padding-left: 30px;
        }

        .next-steps li {
            padding: 8px 0;
        }

        /* 表單樣式 */
        .enrollment-form {
            margin-top: 30px;
        }

        .form-section {
            margin-bottom: 25px;
            padding: 20px;
            background: #f9f9f9;
            border-radius: 8px;
        }

        .form-section h3 {
            font-size: 12pt;
            margin-bottom: 15px;
            color: #333;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #333;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-family: inherit;
            font-size: 11pt;
        }

        .form-group textarea {
            min-height: 80px;
            resize: vertical;
        }

        .radio-group {
            display: flex;
            gap: 20px;
            margin-top: 8px;
        }

        .radio-group label {
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: normal;
        }

        .radio-group input[type="radio"] {
            width: auto;
        }

        .bank-info {
            background: #fff;
            border: 2px solid #333;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
        }

        .bank-info p {
            margin: 5px 0;
            font-family: 'Courier New', monospace;
        }

        .bank-info strong {
            color: #333;
        }

        .submit-btn {
            background: #333;
            color: #fff;
            border: none;
            padding: 15px 40px;
            font-size: 12pt;
            font-weight: bold;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 20px;
        }

        .submit-btn:hover {
            background: #555;
        }

        .submit-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .success-message {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
        }

        .error-message {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
        }

        /* Copy Section */
        .copy-section {
            margin: 30px 0;
            padding: 20px;
            background: #f9f9f9;
            border-radius: 8px;
            border: 2px dashed #333;
        }

        .copy-section h3 {
            margin-top: 0;
            margin-bottom: 10px;
        }

        .copy-section h4 {
            margin-top: 20px;
            margin-bottom: 10px;
            font-size: 11pt;
        }

        .form-interactive {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #333;
            font-size: 10pt;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 11pt;
            font-family: 'Noto Sans TC', sans-serif;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #333;
        }

        .copy-preview {
            background: #fff;
            padding: 15px;
            border-radius: 4px;
            margin: 15px 0;
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid #ddd;
        }

        .copy-preview pre {
            margin: 0;
            font-family: 'Noto Sans TC', sans-serif;
            font-size: 10pt;
            line-height: 1.6;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .copy-btn {
            width: 100%;
            padding: 15px;
            background: #333;
            color: white !important;
            border: none;
            border-radius: 8px;
            font-size: 12pt;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .copy-btn:hover {
            background: #555;
            transform: translateY(-2px);
        }

        .copy-btn:active {
            transform: translateY(0);
        }

        /* 課程進度指示器 */
        .course-progress {
            margin: 30px 0;
            padding: 20px;
            background: #f9f9f9;
            border-radius: 12px;
            text-align: center;
        }

        .course-progress h3 {
            margin-bottom: 15px;
            color: #333;
        }

        .progress-bar {
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        .progress-step {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #e0e0e0;
            color: #666;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .progress-step.active {
            background: #333;
            color: #fff;
            transform: scale(1.1);
        }

        .progress-step.completed {
            background: #28a745;
            color: #fff;
        }

        .week-number {
            font-size: 12px;
        }

        /* Week1 互動教學樣式 */
        .week1-interactive {
            margin: 40px 0;
            border: 2px solid #333;
            border-radius: 12px;
            overflow: hidden;
            background: #fff;
        }

        .interactive-header {
            background: #333;
            color: #fff;
            padding: 20px;
        }

        .interactive-header h2 {
            margin: 0 0 15px 0;
            color: #fff;
        }

        .step-navigation {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .step-btn {
            padding: 8px 15px;
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 6px;
            cursor: pointer;
            font-size: 11px;
            transition: all 0.3s ease;
        }

        .step-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .step-btn.active {
            background: #fff;
            color: #333;
            font-weight: bold;
        }

        .step-btn.completed {
            background: #28a745;
            border-color: #28a745;
        }

        .interactive-content {
            padding: 30px;
        }

        .step-content h3 {
            color: #333;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .step-content p {
            margin-bottom: 20px;
            color: #555;
            line-height: 1.6;
        }

        /* 引導問題樣式 */
        .guiding-questions {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #333;
        }

        .guiding-questions h4 {
            margin-bottom: 10px;
            color: #333;
        }

        .guiding-questions ul {
            margin: 0;
            padding-left: 20px;
        }

        .guiding-questions li {
            margin: 5px 0;
            color: #666;
        }

        /* 互動表單樣式 */
        .step-content .form-group {
            margin: 20px 0;
        }

        .step-content .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #333;
        }

        .step-content textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-family: inherit;
            font-size: 14px;
            line-height: 1.5;
            resize: vertical;
            transition: border-color 0.3s ease;
        }

        .step-content textarea:focus {
            outline: none;
            border-color: #333;
        }

        /* 按鈕樣式 */
        .next-btn, .complete-btn, .generate-btn, .copy-btn {
            background: #333;
            color: #fff;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            font-size: 14px;
            transition: all 0.3s ease;
            margin: 10px 0;
        }

        .next-btn:hover, .complete-btn:hover, .generate-btn:hover, .copy-btn:hover {
            background: #555;
            transform: translateY(-2px);
        }

        .complete-btn {
            background: #28a745;
        }

        .complete-btn:hover {
            background: #218838;
        }

        .generate-btn {
            background: #007bff;
            font-size: 16px;
            padding: 15px 30px;
        }

        .generate-btn:hover {
            background: #0056b3;
        }

        /* 介紹步驟樣式 */
        .intro-points {
            margin: 20px 0;
        }

        .intro-points h4 {
            margin-bottom: 10px;
            color: #333;
        }

        .intro-points ul {
            list-style: none;
            padding: 0;
        }

        .intro-points li {
            padding: 8px 0;
            color: #555;
        }

        .highlight-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #fff;
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            text-align: center;
            font-weight: 500;
        }

        /* AI 示範對比樣式 */
        .demo-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 25px 0;
        }

        .demo-box {
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
        }

        .demo-box.error {
            background: #f8d7da;
            border-left: 4px solid #dc3545;
            color: #721c24;
        }

        .demo-box.success {
            background: #d4edda;
            border-left: 4px solid #28a745;
            color: #155724;
        }

        .demo-note {
            font-size: 12px;
            color: #666;
            font-style: italic;
            margin-top: 5px;
        }

        .key-points {
            background: #f9f9f9;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .key-points h4 {
            margin-bottom: 15px;
            color: #333;
        }

        .key-points ul {
            list-style: none;
            padding: 0;
        }

        .key-points li {
            padding: 8px 0;
            color: #555;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* Prompt 生成器樣式 */
        .profile-summary {
            background: #f9f9f9;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .summary-grid {
            display: grid;
            gap: 15px;
            margin-top: 15px;
        }

        .summary-item {
            padding: 15px;
            background: #fff;
            border-radius: 8px;
            border-left: 4px solid #333;
        }

        .summary-item strong {
            display: block;
            margin-bottom: 5px;
            color: #333;
        }

        .prompt-output {
            background: #f8f9fa;
            border: 2px solid #333;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            position: relative;
        }

        .prompt-output pre {
            margin: 0;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.6;
            white-space: pre-wrap;
            word-wrap: break-word;
            color: #333;
        }

        .usage-instruction {
            background: #e9ecef;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .usage-instruction h4 {
            margin-bottom: 15px;
            color: #333;
        }

        .usage-instruction ol {
            padding-left: 20px;
        }

        .usage-instruction li {
            margin: 8px 0;
            color: #555;
        }

        .warning {
            color: #856404;
            background: #fff3cd;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #ffc107;
            margin: 20px 0;
        }

        /* Week Section 展開樣式 */
        .week-section.active .week-header {
            background: #555;
        }

        .expand-indicator {
            margin-left: auto;
            font-size: 18px;
            transition: transform 0.3s ease;
        }

        /* Footer */
        footer {
            margin-top: 50px;
            padding-top: 20px;
            border-top: 2px solid #333;
            text-align: center;
            color: #666;
        }

        .contact-info {
            margin-top: 15px;
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .contact-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* 響應式設計 */
        @media screen and (max-width: 768px) {
            body {
                padding: 10mm;
            }

            h1 {
                font-size: 20pt;
            }

            .outcome-grid {
                grid-template-columns: 1fr;
            }

            .includes-grid {
                grid-template-columns: 1fr;
            }

            /* 互動組件響應式 */
            .demo-comparison {
                grid-template-columns: 1fr;
            }

            .step-navigation {
                gap: 5px;
            }

            .step-btn {
                padding: 6px 12px;
                font-size: 10px;
            }

            .interactive-content {
                padding: 20px;
            }

            .progress-bar {
                gap: 5px;
            }

            .progress-step {
                width: 40px;
                height: 40px;
            }
        }

        /* 列印樣式 */
        @media print {
            body {
                max-width: 100%;
            }

            .week-section {
                page-break-inside: avoid;
            }
        }

        /* ============================================
           Week 3 Interactive - 工地療癒師轉化器
           ============================================ */
        .week3-interactive {
            margin: 30px 0;
            border: 3px solid #333;
            border-radius: 16px;
            overflow: hidden;
            background: #fff;
        }

        .week3-interactive .interactive-header {
            background: linear-gradient(135deg, #333 0%, #555 100%);
            color: #fff;
            padding: 20px 25px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
        }

        .week3-interactive .interactive-header h2 {
            margin: 0;
            font-size: 18pt;
            color: #fff !important;
        }

        .step-indicator {
            background: rgba(255, 255, 255, 0.15);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }

        .week3-interactive .interactive-content {
            padding: 30px;
            background: #fff;
        }

        /* 公式展示 */
        .formula-display {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
            margin: 25px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 12px;
        }

        .formula-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 12px 18px;
            background: #fff;
            border: 2px solid #333;
            border-radius: 8px;
            min-width: 100px;
        }

        .formula-name {
            font-weight: bold;
            font-size: 14px;
            color: #333;
        }

        .formula-label {
            font-size: 11px;
            color: #666;
            margin-top: 4px;
        }

        .formula-arrow {
            font-size: 24px;
            font-weight: bold;
            color: #333;
        }

        /* 提示詞輸出區 - 程式碼編輯器風格 */
        .prompt-output {
            background: #1e1e1e !important;
            border: 2px solid #333 !important;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            max-height: 350px;
            overflow-y: auto;
        }

        .prompt-output pre {
            margin: 0;
            font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Fira Code', 'Courier New', monospace !important;
            font-size: 13px;
            line-height: 1.6;
            white-space: pre-wrap;
            word-wrap: break-word;
            color: #d4d4d4 !important;
        }

        /* 大型複製按鈕 */
        .copy-btn-large {
            display: block;
            width: 100%;
            padding: 16px 24px;
            font-size: 16px;
            font-weight: bold;
            background: #333;
            color: #fff !important;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 15px 0;
        }

        .copy-btn-large:hover {
            background: #555;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .copy-btn-large.copied {
            background: #28a745 !important;
            animation: pulse 0.5s ease;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }

        /* 按鈕群組 */
        .button-group {
            display: flex;
            gap: 12px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .back-btn {
            padding: 12px 20px;
            font-size: 14px;
            background: #e9ecef;
            color: #333 !important;
            border: 1px solid #ccc;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .back-btn:hover {
            background: #dee2e6;
        }

        .restart-btn {
            padding: 12px 20px;
            font-size: 14px;
            background: #fff;
            color: #333 !important;
            border: 2px solid #333;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .restart-btn:hover {
            background: #333;
            color: #fff !important;
        }

        .generate-btn {
            padding: 12px 24px;
            font-size: 14px;
            font-weight: bold;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #fff !important;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            flex: 1;
        }

        .generate-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        .generate-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            opacity: 0.6;
        }

        /* 必填標記 */
        .required {
            color: #dc3545;
            font-weight: bold;
        }

        /* Week3 深色模式覆蓋 */
        @media (prefers-color-scheme: dark) {
            .week3-interactive {
                background: #fff !important;
                border-color: #333 !important;
            }

            .week3-interactive .interactive-content {
                background: #fff !important;
                color: #333 !important;
            }

            .week3-interactive .step-content,
            .week3-interactive .step-content h3,
            .week3-interactive .step-content p {
                color: #333 !important;
            }

            .formula-display {
                background: #f8f9fa !important;
            }

            .formula-step {
                background: #fff !important;
                border-color: #333 !important;
            }

            .formula-name {
                color: #333 !important;
            }

            .formula-label {
                color: #666 !important;
            }

            .prompt-output {
                background: #1e1e1e !important;
            }

            .prompt-output pre {
                color: #d4d4d4 !important;
            }

            .week3-interactive .key-points {
                background: #f9f9f9 !important;
                color: #333 !important;
            }

            .week3-interactive .key-points h4,
            .week3-interactive .key-points li {
                color: #555 !important;
            }

            .week3-interactive .usage-instruction {
                background: #e9ecef !important;
                color: #333 !important;
            }

            .week3-interactive .usage-instruction h4,
            .week3-interactive .usage-instruction li {
                color: #555 !important;
            }
        }

        /* Week3 響應式設計 */
        @media screen and (max-width: 768px) {
            .week3-interactive .interactive-header {
                flex-direction: column;
                text-align: center;
            }

            .week3-interactive .interactive-header h2 {
                font-size: 16pt;
            }

            .formula-display {
                flex-direction: column;
                gap: 15px;
            }

            .formula-arrow {
                transform: rotate(90deg);
            }

            .formula-step {
                width: 100%;
            }

            .button-group {
                flex-direction: column;
            }

            .generate-btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useRef } = React;

        // ============================================
        // COURSE_DATA - 集中式資料管理
        // ============================================
        const COURSE_DATA = {
            // ===== META =====
            meta: {
                title: "AI 自媒體系統建立課程",
                subtitle: "專屬於沛綺的六週陪跑計畫",
                version: "2.0",
                targetUser: "沛綺"
            },

            // ===== COURSE INFO =====
            courseInfo: {
                goal: "建立完整的 AI 協作系統，從內容規劃、創作到發布的全流程",
                schedule: "每週一、三晚上 8:30-9:30（每次 1 小時，共六週）",
                format: "線上一對一教學 + 週間持續陪伴與任務追蹤",
                fee: "NT$ 10,000"
            },

            // ===== COMPANION BOX =====
            companionItems: [
                "每天檢查學習進度和作業完成狀況",
                "給予具體回饋和改進建議",
                "追蹤實際發文和數據表現",
                "即時解答遇到的問題",
                "見證你從混亂到系統化的改變過程"
            ],

            // ===== WEEKS =====
            weeks: [
                {
                    week: 1,
                    weekLabel: "第一週",
                    title: "建立基礎：從混亂到第一篇貼文",
                    icon: "Target",
                    goal: "發出第一篇用 AI 協作完成的貼文",
                    learns: [
                        "2W1H 框架：釐清你的受眾是誰、你要給他們什麼",
                        "AI 溝通的正確方式：不是問問題，是對話",
                        "用 ChatGPT 從發散想法到完成一篇完整貼文",
                        "定義你的個人風格，建立可重複使用的 prompt 模板"
                    ],
                    completes: [
                        "發布第一篇 AI 協作貼文（實際發布到你的社群平台）",
                        "建立你的風格 prompt 模板",
                        "用新模板練習寫三篇不同主題的貼文"
                    ],
                    hasInteractive: true,
                    interactiveComponent: "Week1Interactive"
                },
                {
                    week: 2,
                    weekLabel: "第二週",
                    title: "批量思考：建立內容規劃系統",
                    icon: "Calendar",
                    goal: "建立未來一個月的內容日曆",
                    learns: [
                        "內容分類方法：知識型、故事型、互動型、服務型",
                        "用 AI 建立主題庫和內容日曆",
                        "圖片生成基礎：用 ChatGPT DALL-E 做出療癒風格的配圖",
                        "Google Sheet 內容管理系統的建立和使用"
                    ],
                    completes: [
                        "完整的一個月內容日曆（至少 12 個貼文主題）",
                        "為下週要發的貼文生成配圖",
                        "建立你專屬的內容管理 Google Sheet"
                    ],
                    hasInteractive: false
                },
                {
                    week: 3,
                    weekLabel: "第三週",
                    title: "真實定位：工地裡的修道場",
                    icon: "Zap",
                    goal: "將職場修羅場轉化為療癒流量密碼",
                    learns: [
                        "戰地急救包理論：在混亂中建立你的內在穩定錨點",
                        "黃金提示詞公式：Hook → Vulnerability → Pivot → Insight",
                        "差異化定位：為什麼「工地裡的療癒師」比「通用療癒師」更有力",
                        "場景化寫作：把每天的工地鳥事變成療癒金句"
                    ],
                    completes: [
                        "完成「戰地急救包」個人版（3-5 個快速回穩技巧）",
                        "用黃金提示詞公式寫出 3 篇工地療癒貼文",
                        "確立你的差異化定位宣言（一句話版本）"
                    ],
                    hasInteractive: true,
                    interactiveComponent: "Week3Interactive"
                },
                {
                    week: 4,
                    weekLabel: "第四週",
                    title: "自動化引流：將互動轉化為實際聯繫",
                    icon: "TrendingUp",
                    goal: "建立 Instagram 自動引流機制和數據追蹤習慣",
                    learns: [
                        "用 ManyChat 設定 Instagram 自動私訊（留言觸發）",
                        "設計有效的引流關鍵字和自動回覆內容",
                        "數據收集的方法和重點指標",
                        "用簡單的方式視覺化你的數據，找出改進方向"
                    ],
                    completes: [
                        "一個實際運作的 Instagram 自動引流機制（用戶留言即自動私訊）",
                        "2-3 組引流關鍵字和對應的自動回覆內容",
                        "完整的歷史數據收集和分析"
                    ],
                    hasInteractive: false
                },
                {
                    week: 5,
                    weekLabel: "第五週",
                    title: "品牌建立：從社群到個人網站",
                    icon: "Lightbulb",
                    goal: "建立你的個人品牌展示網站",
                    learns: [
                        "用 GitHub Pages 建立免費的個人網站（不需要寫程式）",
                        "設計從社群到聯繫的完整流程（IG → 網站 → 預約/諮詢）",
                        "把散落的平台整合成完整的品牌體驗",
                        "如何規劃系列內容，建立粉絲期待感"
                    ],
                    completes: [
                        "一個專業的個人品牌展示網站（整合自我介紹、服務項目、社群連結、聯絡方式）",
                        "第一個系列內容企劃（例如：原生家庭療癒五部曲）",
                        "完整的線上品牌呈現：社群 + 網站 + 引流機制"
                    ],
                    hasInteractive: false
                },
                {
                    week: 6,
                    weekLabel: "第六週",
                    title: "系統整合：建立長期可用的工具包",
                    icon: "Award",
                    goal: "建立可持續運作的 AI 協作系統",
                    learns: [
                        "整理你專屬的 AI 工具包（所有 prompt、流程、資源）",
                        "回顧六週成果，分析改善幅度",
                        "未來自學方向規劃（影片、付費內容、規模化）",
                        "如何持續優化系統，保持競爭力"
                    ],
                    completes: [
                        "完整的個人 AI 工具包（隨時可調用的所有模板和流程）",
                        "六週學習成果報告",
                        "未來三個月的自媒體成長計畫"
                    ],
                    hasInteractive: false
                }
            ],

            // ===== OUTCOMES =====
            outcomes: [
                {
                    title: "一套完整的 AI 協作系統",
                    desc: "從內容規劃、文案撰寫、圖片生成到發布管理的完整流程"
                },
                {
                    title: "你的專屬工具包",
                    desc: "包含所有 prompt 模板、SOP 流程、常用資源，隨時可用"
                },
                {
                    title: "一個個人品牌展示網站",
                    desc: "整合你的自我介紹、服務項目、社群連結、聯絡方式"
                },
                {
                    title: "穩定的內容產出能力",
                    desc: "不再為「不知道發什麼」而困擾，有系統地持續創作"
                },
                {
                    title: "Instagram 自動引流機制",
                    desc: "用 ManyChat 將互動轉化為實際聯繫，提高轉換效率"
                },
                {
                    title: "數據驅動的決策能力",
                    desc: "知道什麼內容有效、如何優化、往哪個方向調整"
                },
                {
                    title: "可持續執行的習慣",
                    desc: "每天 30 分鐘就能維持自媒體經營的高效工作流"
                }
            ],

            // ===== INCLUDES =====
            includes: [
                "18 小時完整教學（正式課程 + 週間互動）",
                "Google Sheet 內容管理系統模板",
                "個人 AI 工具包（所有 prompt 和 SOP）",
                "個人品牌展示網站（GitHub Pages）",
                "Instagram 自動引流系統（ManyChat）",
                "所有課程錄影檔案（供複習使用）",
                "課程研習證書",
                "課後一個月的 LINE 答疑支援"
            ],

            // ===== WEEK 3 INTERACTIVE CONFIG =====
            week3Config: {
                toolTitle: "工地療癒師轉化器",
                formulaSteps: ['Hook', 'Vulnerability', 'Pivot', 'Insight'],
                formulaLabels: {
                    Hook: "混亂場景",
                    Vulnerability: "差點崩潰",
                    Pivot: "掏出法寶",
                    Insight: "體悟與CTA"
                },
                promptTemplate: (annoyance, tool) => `你是一位專業的自媒體文案創作者，擅長把真實職場故事轉化為療癒型貼文。

請用以下「黃金公式」幫我寫一篇 Threads 貼文：

【場景輸入】
- 今天的工地鳥事：${annoyance}
- 我的療癒法寶：${tool}

【黃金公式】
1. Hook（感官細節）：用畫面感描述混亂場景，讓讀者身歷其境
2. Vulnerability（承認脆弱）：誠實說出「我差點就崩潰了」的瞬間
3. Pivot（掏出法寶）：轉折——我掏出了「${tool}」
4. Insight（體悟與CTA）：從這個瞬間我學到什麼？給讀者一個可行動的建議

【輸出要求】
- 字數：150-200 字
- 語氣：真實、溫暖、有點自嘲
- 結尾：用一個問題邀請讀者互動`,
                placeholders: {
                    annoyance: "例如：客戶在驗收時突然改了 15 處，說「這不是我要的感覺」",
                    tool: "例如：聽一首歌 / 喝杯熱茶 / 走到陽台深呼吸"
                },
                inputLabels: {
                    annoyance: "今天的工地鳥事",
                    tool: "你的療癒法寶"
                }
            }
        };

        // 課程互動狀態管理
        function useCourseProgress() {
            const [currentWeek, setCurrentWeek] = useState(0); // 預設不展開任何週
            const [completedSteps, setCompletedSteps] = useState([]);
            const [userProfile, setUserProfile] = useState({
                who: '',
                what: '',
                how: ''
            });

            const markStepComplete = (step) => {
                setCompletedSteps(prev => [...new Set([...prev, step])]);
            };

            const updateProfile = (field, value) => {
                setUserProfile(prev => ({ ...prev, [field]: value }));
            };

            return {
                currentWeek,
                setCurrentWeek,
                completedSteps,
                markStepComplete,
                userProfile,
                updateProfile
            };
        }

        // SVG 圖標組件
        const Icons = {
            Target: () => (
                <svg className="week-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                    <circle cx="12" cy="12" r="10"/>
                    <circle cx="12" cy="12" r="6"/>
                    <circle cx="12" cy="12" r="2"/>
                </svg>
            ),
            Lightbulb: () => (
                <svg className="week-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                    <path d="M9 18h6"/>
                    <path d="M10 22h4"/>
                    <path d="M15.09 14c.18-.98.65-1.74 1.41-2.5A4.65 4.65 0 0 0 18 8 6 6 0 0 0 6 8c0 1 .23 2.23 1.5 3.5A4.61 4.61 0 0 1 8.91 14"/>
                </svg>
            ),
            Calendar: () => (
                <svg className="week-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                    <line x1="16" y1="2" x2="16" y2="6"/>
                    <line x1="8" y1="2" x2="8" y2="6"/>
                    <line x1="3" y1="10" x2="21" y2="10"/>
                </svg>
            ),
            TrendingUp: () => (
                <svg className="week-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                    <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/>
                    <polyline points="17 6 23 6 23 12"/>
                </svg>
            ),
            Zap: () => (
                <svg className="week-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                    <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>
                </svg>
            ),
            Award: () => (
                <svg className="week-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                    <circle cx="12" cy="8" r="7"/>
                    <polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"/>
                </svg>
            ),
            CheckCircle: () => (
                <svg className="outcome-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                    <polyline points="22 4 12 14.01 9 11.01"/>
                </svg>
            ),
            Package: () => (
                <svg className="include-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                    <path d="M16.5 9.4l-9-5.19"/>
                    <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
                    <polyline points="3.27 6.96 12 12.01 20.73 6.96"/>
                    <line x1="12" y1="22.08" x2="12" y2="12"/>
                </svg>
            ),
            Mail: () => (
                <svg style={{width: '16px', height: '16px'}} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                    <polyline points="22,6 12,13 2,6"/>
                </svg>
            ),
            MessageCircle: () => (
                <svg style={{width: '16px', height: '16px'}} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                    <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/>
                </svg>
            ),
        };

        // 取得圖標組件的輔助函數
        function getIconComponent(iconName) {
            const iconMap = {
                Target: Icons.Target,
                Calendar: Icons.Calendar,
                TrendingUp: Icons.TrendingUp,
                Zap: Icons.Zap,
                Lightbulb: Icons.Lightbulb,
                Award: Icons.Award
            };
            const IconComponent = iconMap[iconName];
            return IconComponent ? <IconComponent /> : null;
        }

        function App() {
            const courseState = useCourseProgress();
            const { meta, courseInfo, companionItems, weeks } = COURSE_DATA;

            return (
                <div>
                    <header>
                        <h1>{meta.title}</h1>
                        <div className="subtitle">{meta.subtitle}</div>
                        <div className="meta">
                            ThinkerCafe × 湯 Cruz<br/>
                            一對一線上教學｜2025
                        </div>
                    </header>

                    <section className="course-info">
                        <table>
                            <tbody>
                                <tr>
                                    <th>課程目標</th>
                                    <td>{courseInfo.goal}</td>
                                </tr>
                                <tr>
                                    <th>上課時間</th>
                                    <td>{courseInfo.schedule}</td>
                                </tr>
                                <tr>
                                    <th>上課方式</th>
                                    <td>{courseInfo.format}</td>
                                </tr>
                                <tr>
                                    <th>課程費用</th>
                                    <td>{courseInfo.fee}</td>
                                </tr>
                            </tbody>
                        </table>
                    </section>

                    <section className="companion-box">
                        <h3>週間陪伴機制：不只上課，更是帶著你成長</h3>
                        <ul>
                            {companionItems.map((item, index) => (
                                <li key={index}>{item}</li>
                            ))}
                        </ul>
                    </section>

                    {/* 課程進度總覽 */}
                    <CourseProgress currentWeek={courseState.currentWeek} completedSteps={courseState.completedSteps} />

                    {/* 互動式教學模組 */}
                    {courseState.currentWeek === 1 && (
                        <Week1Interactive
                            userProfile={courseState.userProfile}
                            updateProfile={courseState.updateProfile}
                            markStepComplete={courseState.markStepComplete}
                            completedSteps={courseState.completedSteps}
                        />
                    )}
                    {courseState.currentWeek === 3 && (
                        <Week3Interactive config={COURSE_DATA.week3Config} />
                    )}

                    {/* 週次內容 - 使用 COURSE_DATA 映射 */}
                    {weeks.map((weekData) => (
                        <WeekSection
                            key={weekData.week}
                            week={weekData.weekLabel}
                            title={weekData.title}
                            icon={getIconComponent(weekData.icon)}
                            goal={weekData.goal}
                            learns={weekData.learns}
                            completes={weekData.completes}
                            isActive={courseState.currentWeek === weekData.week}
                            onExpand={weekData.hasInteractive ?
                                () => courseState.setCurrentWeek(courseState.currentWeek === weekData.week ? 0 : weekData.week) :
                                undefined
                            }
                        />
                    ))}

                    <Outcomes />
                    <Includes />
                    <NextSteps />
                    <Footer />
                </div>
            );
        }

        function WeekSection({ week, title, icon, goal, learns, completes, isActive = false, onExpand }) {
            const sectionRef = useRef(null);

            const handleExpand = () => {
                if (!onExpand) return;

                const wasActive = isActive;
                onExpand();

                // 只在展開時自動捲動（不是收合時）
                if (!wasActive) {
                    setTimeout(() => {
                        sectionRef.current?.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }, 100);
                }
            };

            return (
                <section ref={sectionRef} className={`week-section ${isActive ? 'active' : ''}`}>
                    <div
                        className="week-header"
                        onClick={handleExpand}
                        style={{ cursor: onExpand ? 'pointer' : 'default' }}
                    >
                        {icon}
                        <h2>{week}｜{title}</h2>
                        {onExpand && (
                            <div className="expand-indicator">
                                {isActive ? '▼' : '▶'}
                            </div>
                        )}
                    </div>
                    <div className="week-content">
                        <div className="week-goal">
                            <h3>核心目標：{goal}</h3>
                        </div>
                        
                        <div className="learn-list">
                            <h3>你會學到</h3>
                            <ul>
                                {learns.map((item, index) => (
                                    <li key={index}>{item}</li>
                                ))}
                            </ul>
                        </div>

                        <div className="complete-list">
                            <h3>你會完成</h3>
                            <ul>
                                {completes.map((item, index) => (
                                    <li key={index}>{item}</li>
                                ))}
                            </ul>
                        </div>
                    </div>
                </section>
            );
        }

        function Outcomes() {
            return (
                <section className="outcomes">
                    <h2>這六週結束後，你會擁有</h2>
                    <div className="outcome-grid">
                        {COURSE_DATA.outcomes.map((outcome, index) => (
                            <div key={index} className="outcome-item">
                                <Icons.CheckCircle />
                                <div className="outcome-text">
                                    <strong>{outcome.title}</strong>
                                    <div>{outcome.desc}</div>
                                </div>
                            </div>
                        ))}
                    </div>
                </section>
            );
        }

        function Includes() {
            return (
                <section className="includes">
                    <h2>課程包含</h2>
                    <div className="includes-grid">
                        {COURSE_DATA.includes.map((item, index) => (
                            <div key={index} className="include-item">
                                <Icons.Package />
                                <span>{item}</span>
                            </div>
                        ))}
                    </div>
                </section>
            );
        }

        function NextSteps() {
            const [copied, setCopied] = React.useState(false);
            const [formData, setFormData] = React.useState({
                name: '',
                email: '',
                phone: '',
                timeConfirm: '',
                contentConfirm: '',
                startDate: '',
                questions: ''
            });

            const generateTemplate = () => {
                return `📋 AI 自媒體六週實戰課程 - 報名確認

👤 學員資訊
姓名：${formData.name || '[請填寫]'}
Email：${formData.email || '[請填寫]'}
電話：${formData.phone || '[請填寫]'}

⏰ 課程確認
1. 時間：每週一、三晚上 8:30-9:30
   我的回答：${formData.timeConfirm || '[請選擇]'}

2. 課程內容：六週學習路徑是否符合期待？
   我的回答：${formData.contentConfirm || '[請選擇]'}

3. 開課日期：11/24（日）開始
   我的回答：${formData.startDate || '[請選擇]'}

💬 其他問題或備註
${formData.questions || '[無]'}`;
            };

            const handleCopy = () => {
                navigator.clipboard.writeText(generateTemplate()).then(() => {
                    setCopied(true);
                    setTimeout(() => setCopied(false), 2000);
                });
            };

            const handleChange = (field, value) => {
                setFormData(prev => ({ ...prev, [field]: value }));
            };

            return (
                <section className="next-steps">
                    <h2>下一步</h2>
                    <p>請確認以下事項，我們就可以開始：</p>
                    <ol>
                        <li><strong>時間確認：</strong>每週一、三晚上 8:30-9:30（每次 1 小時正式課程，週間持續陪伴追蹤）</li>
                        <li><strong>課程內容：</strong>以上六週的學習路徑是否符合你的期待？</li>
                        <li><strong>開課日期：</strong>11/24（日）開始，是否可以配合？</li>
                    </ol>

                    <div className="copy-section">
                        <h3>📋 快速確認表單</h3>
                        <p>請填寫以下資訊，完成後點擊複製按鈕：</p>
                        
                        <div className="form-interactive">
                            <div className="form-group">
                                <label>姓名</label>
                                <input 
                                    type="text" 
                                    value={formData.name}
                                    onChange={(e) => handleChange('name', e.target.value)}
                                    placeholder="請輸入您的姓名"
                                />
                            </div>

                            <div className="form-group">
                                <label>Email</label>
                                <input 
                                    type="email" 
                                    value={formData.email}
                                    onChange={(e) => handleChange('email', e.target.value)}
                                    placeholder="example@email.com"
                                />
                            </div>

                            <div className="form-group">
                                <label>電話</label>
                                <input 
                                    type="tel" 
                                    value={formData.phone}
                                    onChange={(e) => handleChange('phone', e.target.value)}
                                    placeholder="0912-345-678"
                                />
                            </div>

                            <div className="form-group">
                                <label>1. 時間：每週一、三晚上 8:30-9:30</label>
                                <select value={formData.timeConfirm} onChange={(e) => handleChange('timeConfirm', e.target.value)}>
                                    <option value="">請選擇</option>
                                    <option value="可以配合">可以配合</option>
                                    <option value="需要調整">需要調整</option>
                                </select>
                            </div>

                            <div className="form-group">
                                <label>2. 課程內容：六週學習路徑是否符合期待？</label>
                                <select value={formData.contentConfirm} onChange={(e) => handleChange('contentConfirm', e.target.value)}>
                                    <option value="">請選擇</option>
                                    <option value="符合">符合</option>
                                    <option value="有疑問">有疑問</option>
                                </select>
                            </div>

                            <div className="form-group">
                                <label>3. 開課日期：11/24（日）開始</label>
                                <select value={formData.startDate} onChange={(e) => handleChange('startDate', e.target.value)}>
                                    <option value="">請選擇</option>
                                    <option value="可以">可以</option>
                                    <option value="需要調整">需要調整</option>
                                </select>
                            </div>

                            <div className="form-group">
                                <label>其他問題或備註</label>
                                <textarea 
                                    value={formData.questions}
                                    onChange={(e) => handleChange('questions', e.target.value)}
                                    placeholder="有任何問題都可以在這裡寫..."
                                    rows="3"
                                />
                            </div>
                        </div>

                        <div className="copy-preview">
                            <h4>📄 預覽（將複製以下內容）</h4>
                            <pre>{generateTemplate()}</pre>
                        </div>

                        <button className="copy-btn" onClick={handleCopy}>
                            {copied ? '✅ 已複製！' : '📋 複製確認表單'}
                        </button>

                        <p style={{marginTop: '15px', color: '#666', fontSize: '10pt', textAlign: 'center'}}>
                            複製後，請透過 Line 傳給我
                        </p>
                    </div>

                    <p style={{ marginTop: '30px' }}>
                        確認後，我會寄給你繳費資訊和課前準備清單。<br/>
                        有任何問題都可以直接問我，我們隨時可以討論調整。
                    </p>
                    <p style={{ marginTop: '20px', fontWeight: 'bold' }}>
                        期待和你一起建立屬於你的 AI 自媒體系統！
                    </p>
                </section>
            );
        }

        // 進度指示器組件
        function CourseProgress({ currentWeek, completedSteps }) {
            const weeks = [1, 2, 3, 4, 5, 6];
            return (
                <div className="course-progress">
                    <h3>六週課程總覽 - 點擊週次了解詳細內容</h3>
                    <div className="progress-bar">
                        {weeks.map(week => (
                            <div 
                                key={week}
                                className={`progress-step ${currentWeek === week ? 'active' : ''} ${completedSteps.includes(`week${week}`) ? 'completed' : ''}`}
                            >
                                <span className="week-number">W{week}</span>
                            </div>
                        ))}
                    </div>
                    <p style={{textAlign: 'center', marginTop: '15px', fontSize: '12px', color: '#666'}}>
                        點擊下方「第一週」區塊可體驗互動式教學
                    </p>
                </div>
            );
        }

        // Week1 互動教學組件
        function Week1Interactive({ userProfile, updateProfile, markStepComplete, completedSteps }) {
            const [currentStep, setCurrentStep] = useState('intro');
            const [generatedPrompt, setGeneratedPrompt] = useState('');

            const steps = {
                'intro': { title: '課程介紹', next: '2w1h-who' },
                '2w1h-who': { title: 'WHO - 受眾分析', next: '2w1h-what' },
                '2w1h-what': { title: 'WHAT - 價值定義', next: '2w1h-how' },
                '2w1h-how': { title: 'HOW - 方式規劃', next: 'ai-demo' },
                'ai-demo': { title: 'AI 協作示範', next: 'prompt-generator' },
                'prompt-generator': { title: 'Prompt 模板生成器', next: null }
            };

            const generatePrompt = () => {
                if (!userProfile.who || !userProfile.what || !userProfile.how) return;
                
                const prompt = `我是身心靈療癒師。

我的受眾：${userProfile.who}

我的價值：${userProfile.what}

我的風格：${userProfile.how}

現在請你幫我寫一篇關於 [主題] 的貼文。`;

                setGeneratedPrompt(prompt);
                markStepComplete('prompt-generated');
            };

            return (
                <div className="week1-interactive">
                    <div className="interactive-header">
                        <h2>🎯 第一週互動教學：建立你的 AI 協作基礎</h2>
                        <div className="step-navigation">
                            {Object.keys(steps).map(stepKey => (
                                <button
                                    key={stepKey}
                                    className={`step-btn ${currentStep === stepKey ? 'active' : ''} ${completedSteps.includes(stepKey) ? 'completed' : ''}`}
                                    onClick={() => setCurrentStep(stepKey)}
                                >
                                    {steps[stepKey].title}
                                </button>
                            ))}
                        </div>
                    </div>

                    <div className="interactive-content">
                        {currentStep === 'intro' && (
                            <IntroStep onNext={() => setCurrentStep('2w1h-who')} />
                        )}

                        {currentStep === '2w1h-who' && (
                            <WHOStep 
                                value={userProfile.who}
                                onChange={(value) => updateProfile('who', value)}
                                onNext={() => setCurrentStep('2w1h-what')}
                                onComplete={() => markStepComplete('who')}
                            />
                        )}

                        {currentStep === '2w1h-what' && (
                            <WHATStep 
                                value={userProfile.what}
                                onChange={(value) => updateProfile('what', value)}
                                onNext={() => setCurrentStep('2w1h-how')}
                                onComplete={() => markStepComplete('what')}
                            />
                        )}

                        {currentStep === '2w1h-how' && (
                            <HOWStep 
                                value={userProfile.how}
                                onChange={(value) => updateProfile('how', value)}
                                onNext={() => setCurrentStep('ai-demo')}
                                onComplete={() => markStepComplete('how')}
                            />
                        )}

                        {currentStep === 'ai-demo' && (
                            <AIDemoStep onNext={() => setCurrentStep('prompt-generator')} />
                        )}

                        {currentStep === 'prompt-generator' && (
                            <PromptGeneratorStep 
                                userProfile={userProfile}
                                generatedPrompt={generatedPrompt}
                                onGenerate={generatePrompt}
                            />
                        )}
                    </div>
                </div>
            );
        }

        // ============================================
        // Week3Interactive - 工地療癒師轉化器
        // ============================================
        function Week3Interactive({ config }) {
            const [currentStep, setCurrentStep] = useState('intro');
            const [inputs, setInputs] = useState({ annoyance: '', tool: '' });
            const [generatedPrompt, setGeneratedPrompt] = useState('');
            const [copied, setCopied] = useState(false);

            const isInputValid = inputs.annoyance.trim() && inputs.tool.trim();

            const handleGenerate = () => {
                if (!isInputValid) return;
                const prompt = config.promptTemplate(inputs.annoyance.trim(), inputs.tool.trim());
                setGeneratedPrompt(prompt);
                setCurrentStep('preview');
            };

            const handleCopy = () => {
                navigator.clipboard.writeText(generatedPrompt).then(() => {
                    setCopied(true);
                    setTimeout(() => setCopied(false), 2500);
                });
            };

            const handleInputChange = (field, value) => {
                setInputs(prev => ({ ...prev, [field]: value }));
            };

            const handleBack = () => {
                setCurrentStep('input');
                setCopied(false);
            };

            const handleStartOver = () => {
                setInputs({ annoyance: '', tool: '' });
                setGeneratedPrompt('');
                setCopied(false);
                setCurrentStep('intro');
            };

            return (
                <div className="week3-interactive">
                    <div className="interactive-header">
                        <h2>⚡ {config.toolTitle}</h2>
                        <div className="step-indicator">
                            {currentStep === 'intro' && 'Step 1/3：認識黃金公式'}
                            {currentStep === 'input' && 'Step 2/3：輸入你的素材'}
                            {currentStep === 'preview' && 'Step 3/3：複製提示詞'}
                        </div>
                    </div>

                    <div className="interactive-content">
                        {/* Step 1: 介紹黃金公式 */}
                        {currentStep === 'intro' && (
                            <div className="step-content">
                                <h3>🔥 黃金提示詞公式</h3>
                                <p>這套公式能把你的工地日常轉化成有共鳴的療癒貼文：</p>

                                <div className="formula-display">
                                    {config.formulaSteps.map((step, index) => (
                                        <React.Fragment key={step}>
                                            <div className="formula-step">
                                                <span className="formula-name">{step}</span>
                                                <span className="formula-label">{config.formulaLabels[step]}</span>
                                            </div>
                                            {index < config.formulaSteps.length - 1 && (
                                                <span className="formula-arrow">→</span>
                                            )}
                                        </React.Fragment>
                                    ))}
                                </div>

                                <div className="key-points">
                                    <h4>為什麼這個公式有效？</h4>
                                    <ul>
                                        <li><strong>Hook</strong>：用感官細節讓讀者身歷其境</li>
                                        <li><strong>Vulnerability</strong>：承認脆弱建立信任</li>
                                        <li><strong>Pivot</strong>：展示你的療癒工具</li>
                                        <li><strong>Insight</strong>：給出可行動的建議</li>
                                    </ul>
                                </div>

                                <button className="next-btn" onClick={() => setCurrentStep('input')}>
                                    開始輸入素材 →
                                </button>
                            </div>
                        )}

                        {/* Step 2: 輸入素材 */}
                        {currentStep === 'input' && (
                            <div className="step-content">
                                <h3>📝 輸入你的素材</h3>
                                <p>回想今天（或最近）工地裡發生的事，填入以下兩個欄位：</p>

                                <div className="form-group">
                                    <label>{config.inputLabels.annoyance} <span className="required">*</span></label>
                                    <textarea
                                        value={inputs.annoyance}
                                        onChange={(e) => handleInputChange('annoyance', e.target.value)}
                                        placeholder={config.placeholders.annoyance}
                                        rows="3"
                                    />
                                </div>

                                <div className="form-group">
                                    <label>{config.inputLabels.tool} <span className="required">*</span></label>
                                    <textarea
                                        value={inputs.tool}
                                        onChange={(e) => handleInputChange('tool', e.target.value)}
                                        placeholder={config.placeholders.tool}
                                        rows="2"
                                    />
                                </div>

                                <div className="button-group">
                                    <button
                                        className="back-btn"
                                        onClick={() => setCurrentStep('intro')}
                                    >
                                        ← 返回
                                    </button>
                                    <button
                                        className="generate-btn"
                                        onClick={handleGenerate}
                                        disabled={!isInputValid}
                                    >
                                        ✨ 生成黃金提示詞
                                    </button>
                                </div>
                            </div>
                        )}

                        {/* Step 3: 預覽並複製 */}
                        {currentStep === 'preview' && (
                            <div className="step-content">
                                <h3>📋 你的專屬提示詞</h3>
                                <p>複製以下內容，貼到 ChatGPT 即可生成貼文：</p>

                                <div className="prompt-output">
                                    <pre>{generatedPrompt}</pre>
                                </div>

                                <button
                                    className={`copy-btn-large ${copied ? 'copied' : ''}`}
                                    onClick={handleCopy}
                                >
                                    {copied ? 'Copied! ✨' : '📋 複製提示詞'}
                                </button>

                                <div className="usage-instruction">
                                    <h4>使用方式：</h4>
                                    <ol>
                                        <li>點擊上方按鈕複製提示詞</li>
                                        <li>打開 ChatGPT 貼上</li>
                                        <li>按下送出，獲得療癒貼文</li>
                                        <li>微調後發布到 Threads！</li>
                                    </ol>
                                </div>

                                <div className="button-group">
                                    <button className="back-btn" onClick={handleBack}>
                                        ← 修改素材
                                    </button>
                                    <button className="restart-btn" onClick={handleStartOver}>
                                        🔄 再做一篇
                                    </button>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        // ============================================
        // Week 1 各個步驟組件
        // ============================================
        function IntroStep({ onNext }) {
            return (
                <div className="step-content">
                    <h3>🎯 歡迎來到 Week 1：建立基礎</h3>
                    <p>這週的目標很明確：<strong>發出第一篇用 AI 協作完成的貼文</strong></p>
                    
                    <div className="intro-points">
                        <h4>你會學到：</h4>
                        <ul>
                            <li>📝 2W1H 框架：釐清你的受眾和價值</li>
                            <li>🤖 AI 溝通的正確方式</li>
                            <li>⚡ 建立可重複使用的 prompt 模板</li>
                        </ul>
                        
                        <h4>課程亮點：</h4>
                        <div className="highlight-box">
                            <p>大部分人用 AI 失敗，是因為把它當搜尋引擎。今天教你把 ChatGPT 變成你的創作夥伴！</p>
                        </div>
                    </div>

                    <button className="next-btn" onClick={onNext}>
                        開始 2W1H 框架實作 →
                    </button>
                </div>
            );
        }

        function WHOStep({ value, onChange, onNext, onComplete }) {
            const [isComplete, setIsComplete] = useState(false);

            const handleComplete = () => {
                if (value.trim()) {
                    setIsComplete(true);
                    onComplete();
                }
            };

            return (
                <div className="step-content">
                    <h3>👥 WHO - 受眾分析</h3>
                    <p>首先，我們要明確你的受眾是誰。這是所有內容創作的基礎。</p>
                    
                    <div className="guiding-questions">
                        <h4>引導問題：</h4>
                        <ul>
                            <li>你的理想客戶是誰？（年齡、性別、職業）</li>
                            <li>他們有什麼困擾或需求？</li>
                            <li>他們通常在什麼情況下會尋求幫助？</li>
                        </ul>
                    </div>

                    <div className="form-group">
                        <label>描述你的目標受眾：</label>
                        <textarea
                            value={value}
                            onChange={(e) => onChange(e.target.value)}
                            placeholder="例如：25-40歲女性，工作壓力大，與家人關係複雜，經常感到焦慮和情緒困擾..."
                            rows="4"
                        />
                    </div>

                    {value.trim() && !isComplete && (
                        <button className="complete-btn" onClick={handleComplete}>
                            完成 WHO 分析 ✓
                        </button>
                    )}

                    {isComplete && (
                        <button className="next-btn" onClick={onNext}>
                            下一步：WHAT - 價值定義 →
                        </button>
                    )}
                </div>
            );
        }

        function WHATStep({ value, onChange, onNext, onComplete }) {
            const [isComplete, setIsComplete] = useState(false);

            const handleComplete = () => {
                if (value.trim()) {
                    setIsComplete(true);
                    onComplete();
                }
            };

            return (
                <div className="step-content">
                    <h3>💎 WHAT - 價值定義</h3>
                    <p>現在定義你要給受眾什麼價值。這決定了你內容的核心方向。</p>
                    
                    <div className="guiding-questions">
                        <h4>引導問題：</h4>
                        <ul>
                            <li>你和其他身心靈工作者有什麼不同？</li>
                            <li>客戶找你最常問什麼問題？</li>
                            <li>你最擅長解決什麼問題？</li>
                            <li>你希望人們看到你的貼文後有什麼感覺？</li>
                        </ul>
                    </div>

                    <div className="form-group">
                        <label>描述你提供的核心價值：</label>
                        <textarea
                            value={value}
                            onChange={(e) => onChange(e.target.value)}
                            placeholder="例如：提供實用的情緒療癒技巧，用溫暖陪伴的方式幫助人們處理原生家庭創傷..."
                            rows="4"
                        />
                    </div>

                    {value.trim() && !isComplete && (
                        <button className="complete-btn" onClick={handleComplete}>
                            完成 WHAT 定義 ✓
                        </button>
                    )}

                    {isComplete && (
                        <button className="next-btn" onClick={onNext}>
                            下一步：HOW - 方式規劃 →
                        </button>
                    )}
                </div>
            );
        }

        function HOWStep({ value, onChange, onNext, onComplete }) {
            const [isComplete, setIsComplete] = useState(false);

            const handleComplete = () => {
                if (value.trim()) {
                    setIsComplete(true);
                    onComplete();
                }
            };

            return (
                <div className="step-content">
                    <h3>🎨 HOW - 方式規劃</h3>
                    <p>最後決定你用什麼方式傳達。這會形成你獨特的個人風格。</p>
                    
                    <div className="guiding-questions">
                        <h4>引導問題：</h4>
                        <ul>
                            <li>你希望用什麼語調跟受眾說話？</li>
                            <li>你喜歡長文還是短文？</li>
                            <li>你想要什麼樣的互動？</li>
                            <li>多久發一次貼文？</li>
                        </ul>
                    </div>

                    <div className="form-group">
                        <label>描述你的傳達方式和風格：</label>
                        <textarea
                            value={value}
                            onChange={(e) => onChange(e.target.value)}
                            placeholder="例如：溫暖陪伴的語調，150-200字，分享真實故事+實用方法，鼓勵互動，一週2-3篇貼文..."
                            rows="4"
                        />
                    </div>

                    {value.trim() && !isComplete && (
                        <button className="complete-btn" onClick={handleComplete}>
                            完成 HOW 規劃 ✓
                        </button>
                    )}

                    {isComplete && (
                        <button className="next-btn" onClick={onNext}>
                            下一步：AI 協作示範 →
                        </button>
                    )}
                </div>
            );
        }

        function AIDemoStep({ onNext }) {
            return (
                <div className="step-content">
                    <h3>🤖 AI 協作示範：正確 vs 錯誤</h3>
                    <p>看看正確的 AI 溝通方式，這是成功協作的關鍵！</p>
                    
                    <div className="demo-comparison">
                        <div className="wrong-demo">
                            <h4>❌ 錯誤方式：</h4>
                            <div className="demo-box error">
                                <p>"幫我寫一篇身心靈的貼文"</p>
                            </div>
                            <p className="demo-note">太籠統，AI 不知道要寫什麼</p>
                        </div>

                        <div className="right-demo">
                            <h4>✅ 正確方式：</h4>
                            <div className="demo-box success">
                                <p>"我是身心靈療癒師，主要服務25-40歲有情緒困擾的女性。我想寫一篇關於『如何處理工作焦慮』的貼文，風格要溫暖陪伴，提供實用方法，大概150-200字。能幫我一起發想嗎？"</p>
                            </div>
                            <p className="demo-note">有背景、有需求、有方向，AI 能給出精準回應</p>
                        </div>
                    </div>

                    <div className="key-points">
                        <h4>關鍵原則：</h4>
                        <ul>
                            <li>🗣️ 把 AI 當對話夥伴，不是搜尋引擎</li>
                            <li>📝 給上下文，說清楚你的背景和需求</li>
                            <li>🔄 多輪對話，一步步優化內容</li>
                        </ul>
                    </div>

                    <button className="next-btn" onClick={onNext}>
                        生成我的專屬 Prompt 模板 →
                    </button>
                </div>
            );
        }

        function PromptGeneratorStep({ userProfile, generatedPrompt, onGenerate }) {
            const [copied, setCopied] = useState(false);

            const handleCopy = () => {
                if (generatedPrompt) {
                    navigator.clipboard.writeText(generatedPrompt).then(() => {
                        setCopied(true);
                        setTimeout(() => setCopied(false), 2000);
                    });
                }
            };

            return (
                <div className="step-content">
                    <h3>🚀 你的專屬 Prompt 模板生成器</h3>
                    <p>基於你剛才填寫的 2W1H，生成專屬於你的 AI 協作模板！</p>
                    
                    {!generatedPrompt ? (
                        <div className="generator-section">
                            <div className="profile-summary">
                                <h4>你的 2W1H 總結：</h4>
                                <div className="summary-grid">
                                    <div className="summary-item">
                                        <strong>WHO:</strong> {userProfile.who || '尚未填寫'}
                                    </div>
                                    <div className="summary-item">
                                        <strong>WHAT:</strong> {userProfile.what || '尚未填寫'}
                                    </div>
                                    <div className="summary-item">
                                        <strong>HOW:</strong> {userProfile.how || '尚未填寫'}
                                    </div>
                                </div>
                            </div>

                            {userProfile.who && userProfile.what && userProfile.how ? (
                                <button className="generate-btn" onClick={onGenerate}>
                                    🎯 生成我的專屬 Prompt 模板
                                </button>
                            ) : (
                                <p className="warning">請先完成所有 2W1H 步驟才能生成模板</p>
                            )}
                        </div>
                    ) : (
                        <div className="generated-section">
                            <h4>🎉 你的專屬 Prompt 模板：</h4>
                            <div className="prompt-output">
                                <pre>{generatedPrompt}</pre>
                            </div>
                            
                            <div className="usage-instruction">
                                <h4>使用方法：</h4>
                                <ol>
                                    <li>複製上面的模板</li>
                                    <li>在 ChatGPT 中貼上</li>
                                    <li>將 [主題] 替換為你想寫的具體主題</li>
                                    <li>開始與 AI 協作創作！</li>
                                </ol>
                            </div>

                            <button className="copy-btn" onClick={handleCopy}>
                                {copied ? '✅ 已複製！' : '📋 複製 Prompt 模板'}
                            </button>
                        </div>
                    )}
                </div>
            );
        }

        function Footer() {
            return (
                <footer>
                    <div>
                        <strong>湯 Cruz</strong><br/>
                        思考者咖啡有限公司 創辦人 & AI 協作系統架構師
                    </div>
                    <div className="contact-info">
                        <div className="contact-item">
                            <Icons.Mail />
                            <a href="mailto:cruz@thinker.cafe" style={{color: '#666', textDecoration: 'none'}}>cruz@thinker.cafe</a>
                        </div>
                        <div className="contact-item">
                            <Icons.MessageCircle />
                            <a href="https://www.threads.net/@tangcruzz" target="_blank" rel="noopener noreferrer" style={{color: '#666', textDecoration: 'none'}}>@tangcruzz</a>
                        </div>
                    </div>
                </footer>
            );
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>